import{a as G}from"./chunk-PNRCHS3F.js";import{b as R,c as O,f as z,n as U}from"./chunk-GT7YRUEU.js";import{Ca as W,Lb as H,Ra as L,Sa as q,X as c,Xa as e,Y as p,Ya as t,Z as _,Za as S,_ as v,bb as F,cb as h,db as u,ea as B,hb as j,ib as n,jb as d,kb as E,lb as C,mb as f,nb as g,ob as b,sa as a,wa as N}from"./chunk-5P4XIA3I.js";function J(x,i){if(x&1){let o=F();e(0,"div",3)(1,"div",4)(2,"div",5)(3,"span",6),n(4),t()(),e(5,"h2",7),n(6),t(),e(7,"p",2),n(8),t(),e(9,"p",8),n(10),t(),e(11,"div",9)(12,"span"),n(13),t()()(),e(14,"div",10)(15,"div",11)(16,"h3",12),n(17,"Informations personnelles"),t(),e(18,"div",13)(19,"div")(20,"label",14),n(21,"Matricule"),t(),e(22,"p",15),n(23),t()(),e(24,"div")(25,"label",14),n(26,"Email"),t(),e(27,"p",15),n(28),t()(),e(29,"div")(30,"label",14),n(31,"T\xE9l\xE9phone"),t(),e(32,"input",16),b("ngModelChange",function(r){c(o);let m=u();return g(m.formData.telephone,r)||(m.formData.telephone=r),p(r)}),t()(),e(33,"div")(34,"label",14),n(35,"Date de naissance"),t(),e(36,"p",15),n(37),t()()()(),e(38,"div",11)(39,"h3",12),n(40,"Informations professionnelles"),t(),e(41,"div",13)(42,"div")(43,"label",14),n(44,"Date d'embauche"),t(),e(45,"p",15),n(46),t()(),e(47,"div")(48,"label",14),n(49,"Type de contrat"),t(),e(50,"p",15),n(51),t()(),e(52,"div")(53,"label",14),n(54,"Service"),t(),e(55,"p",15),n(56),t()(),e(57,"div")(58,"label",14),n(59,"Manager"),t(),e(60,"p",15),n(61),t()(),e(62,"div")(63,"label",14),n(64,"Anciennet\xE9"),t(),e(65,"p",15),n(66),t()(),e(67,"div")(68,"label",14),n(69,"R\xF4le"),t(),e(70,"p",15),n(71),t()()()(),e(72,"div",11)(73,"h3",12),n(74,"Informations bancaires"),t(),e(75,"div",17)(76,"div")(77,"label",14),n(78,"Banque"),t(),e(79,"input",18),b("ngModelChange",function(r){c(o);let m=u();return g(m.formData.banque,r)||(m.formData.banque=r),p(r)}),t()(),e(80,"div")(81,"label",14),n(82,"IBAN"),t(),e(83,"input",18),b("ngModelChange",function(r){c(o);let m=u();return g(m.formData.iban,r)||(m.formData.iban=r),p(r)}),t()(),e(84,"div")(85,"label",14),n(86,"BIC"),t(),e(87,"input",18),b("ngModelChange",function(r){c(o);let m=u();return g(m.formData.bic,r)||(m.formData.bic=r),p(r)}),t()()()(),e(88,"div",11)(89,"div",19)(90,"button",20),h("click",function(){c(o);let r=u();return p(r.sauvegarder())}),n(91," Sauvegarder les modifications "),t(),e(92,"button",21),h("click",function(){c(o);let r=u();return p(r.resetForm())}),n(93," Annuler "),t()()()()(),e(94,"div",22)(95,"div",4)(96,"div",23),_(),e(97,"svg",24),S(98,"path",25),t()(),v(),e(99,"p",1),n(100,"18"),t(),e(101,"p",8),n(102,"Cong\xE9s restants"),t()(),e(103,"div",4)(104,"div",26),_(),e(105,"svg",27),S(106,"path",28),t()(),v(),e(107,"p",1),n(108,"160h"),t(),e(109,"p",8),n(110,"Heures ce mois"),t()(),e(111,"div",4)(112,"div",29),_(),e(113,"svg",30),S(114,"path",31),t()(),v(),e(115,"p",1),n(116,"3"),t(),e(117,"p",8),n(118,"Demandes en cours"),t()()()}if(x&2){let o,s,r,m,y,w,D,M,I,V,k,P,T,A,l=u();a(4),C(" ",(o=l.user())==null||o.prenom==null?null:o.prenom.charAt(0),"",(o=l.user())==null||o.nom==null?null:o.nom.charAt(0)," "),a(2),C("",(s=l.user())==null?null:s.prenom," ",(s=l.user())==null?null:s.nom),a(2),d((r=l.user())==null?null:r.poste),a(2),d((m=l.user())==null?null:m.service),a(2),j(l.getStatutClass(((y=l.user())==null?null:y.statut)||"")),a(),E(" ",(w=l.user())==null?null:w.statut," "),a(10),d((D=l.user())==null?null:D.matricule),a(5),d((M=l.user())==null?null:M.email),a(4),f("ngModel",l.formData.telephone),a(5),d(l.formatDate(((I=l.user())==null?null:I.dateNaissance)||"")),a(9),d(l.formatDate(((V=l.user())==null?null:V.dateEmbauche)||"")),a(5),d((k=l.user())==null?null:k.typeContrat),a(5),d((P=l.user())==null?null:P.service),a(5),d(((T=l.user())==null?null:T.manager)||"Non d\xE9fini"),a(5),E("",l.calculerAnciennete()," ans"),a(5),d(l.getRoleLabel(((A=l.user())==null?null:A.role)||"")),a(8),f("ngModel",l.formData.banque),a(4),f("ngModel",l.formData.iban),a(4),f("ngModel",l.formData.bic)}}var Y=class x{constructor(i){this.authService=i}user=B(null);formData={telephone:"",banque:"",iban:"",bic:""};ngOnInit(){this.authService.currentUser$.subscribe(i=>{this.user.set(i),i&&(this.formData={telephone:i.telephone,banque:i.coordonneesBancaires.banque,iban:i.coordonneesBancaires.iban,bic:i.coordonneesBancaires.bic})})}sauvegarder(){console.log("Sauvegarde des modifications:",this.formData),alert("Profil mis \xE0 jour avec succ\xE8s !")}resetForm(){let i=this.user();i&&(this.formData={telephone:i.telephone,banque:i.coordonneesBancaires.banque,iban:i.coordonneesBancaires.iban,bic:i.coordonneesBancaires.bic})}calculerAnciennete(){let i=this.user();if(i?.dateEmbauche){let o=new Date(i.dateEmbauche);return new Date().getFullYear()-o.getFullYear()}return 0}getStatutClass(i){switch(i){case"ACTIF":return"inline-flex px-3 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800";case"INACTIF":return"inline-flex px-3 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800";case"SUSPENDU":return"inline-flex px-3 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800";default:return"inline-flex px-3 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800"}}getRoleLabel(i){switch(i){case"OPERATIONNEL":return"Personnel Op\xE9rationnel";case"DIRECTION":return"Direction";case"RH":return"\xC9quipe RH";default:return i}}formatDate(i){return i?new Date(i).toLocaleDateString("fr-FR"):""}static \u0275fac=function(o){return new(o||x)(N(G))};static \u0275cmp=W({type:x,selectors:[["app-profil"]],decls:7,vars:1,consts:[[1,"space-y-6"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"card","text-center"],[1,"w-32","h-32","bg-primary-500","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-3xl","font-bold","text-white"],[1,"text-xl","font-bold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"mt-4","pt-4","border-t"],[1,"lg:col-span-2","space-y-6"],[1,"card"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"text-sm","text-gray-900","p-2","bg-gray-50","rounded"],["type","tel",1,"input-field","text-sm",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-1","gap-4"],["type","text",1,"input-field","text-sm",3,"ngModelChange","ngModel"],[1,"flex","space-x-4"],[1,"btn-primary",3,"click"],[1,"btn-secondary",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[1,"w-12","h-12","bg-blue-100","rounded-full","flex","items-center","justify-center","mx-auto","mb-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"w-12","h-12","bg-green-100","rounded-full","flex","items-center","justify-center","mx-auto","mb-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"w-12","h-12","bg-purple-100","rounded-full","flex","items-center","justify-center","mx-auto","mb-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"]],template:function(o,s){o&1&&(e(0,"div",0)(1,"div")(2,"h1",1),n(3,"Mon profil"),t(),e(4,"p",2),n(5,"Consultez et modifiez vos informations personnelles"),t()(),L(6,J,119,22),t()),o&2&&(a(6),q(s.user()?6:-1))},dependencies:[H,U,R,O,z],encapsulation:2})};export{Y as ProfilComponent};
