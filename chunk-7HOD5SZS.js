import{b as P,c as L,f as q,i as H,j as U,k as W,n as j}from"./chunk-GT7YRUEU.js";import{Ca as F,Lb as O,Ra as N,Sa as R,Ua as T,Va as w,X as g,Xa as e,Y as v,Ya as t,Z as f,Za as x,_,bb as I,cb as d,db as u,ea as E,fb as V,hb as B,ib as o,jb as c,kb as h,lb as C,mb as S,nb as y,ob as b,sa as r}from"./chunk-5P4XIA3I.js";var G=(s,l)=>l.id,K=(s,l)=>l.service;function Y(s,l){if(s&1){let n=I();e(0,"div",35),d("click",function(){let m=g(n).$implicit,a=u();return v(a.voirDetails(m))}),e(1,"div",36)(2,"div",37)(3,"span",38),o(4),t()(),e(5,"div",39),x(6,"div"),t()(),e(7,"div",25)(8,"h3",40),o(9),t(),e(10,"p",41),o(11),t(),e(12,"p",42),o(13),t(),e(14,"div",43)(15,"div",44),f(),e(16,"svg",45),x(17,"path",46),t(),o(18),t(),_(),e(19,"div",44),f(),e(20,"svg",45),x(21,"path",47),t(),o(22),t()(),_(),e(23,"div",48)(24,"span",49),o(25),t()()()()}if(s&2){let n=l.$implicit,i=u();r(4),C(" ",n.prenom.charAt(0),"",n.nom.charAt(0)," "),r(2),B(i.getStatutIndicator(n.statut)),r(3),C("",n.prenom," ",n.nom),r(2),c(n.poste),r(2),c(n.service),r(5),h(" ",n.email," "),r(4),h(" ",n.telephone," "),r(3),h(" ",i.calculerAnciennete(n.dateEmbauche)," an(s) ")}}function Z(s,l){s&1&&(e(0,"div",22),f(),e(1,"svg",50),x(2,"path",51),t(),_(),e(3,"h3",52),o(4,"Aucun employ\xE9 trouv\xE9"),t(),e(5,"p",53),o(6,"Aucun employ\xE9 ne correspond \xE0 vos crit\xE8res de recherche."),t()())}function J(s,l){if(s&1&&(e(0,"div",33)(1,"span",54),o(2),t(),e(3,"div",55)(4,"div",56),x(5,"div",57),t(),e(6,"span",58),o(7),t()()()),s&2){let n=l.$implicit,i=u();r(2),c(n.service),r(3),V("width",n.count/i.getTotalEmployes()*100,"%"),r(2),c(n.count)}}function Q(s,l){if(s&1){let n=I();e(0,"div",59),d("click",function(){g(n);let m=u();return v(m.fermerDetails())}),e(1,"div",60),d("click",function(m){return g(n),v(m.stopPropagation())}),e(2,"div",25)(3,"div",61)(4,"span",62),o(5),t()(),e(6,"h2",63),o(7),t(),e(8,"p",64),o(9),t(),e(10,"p",65),o(11),t(),e(12,"div",66)(13,"div",67)(14,"span",2),o(15,"Matricule:"),t(),e(16,"span",68),o(17),t()(),e(18,"div",67)(19,"span",2),o(20,"Email:"),t(),e(21,"span",68),o(22),t()(),e(23,"div",67)(24,"span",2),o(25,"T\xE9l\xE9phone:"),t(),e(26,"span",68),o(27),t()(),e(28,"div",67)(29,"span",2),o(30,"Anciennet\xE9:"),t(),e(31,"span",68),o(32),t()()(),e(33,"div",69)(34,"button",70),d("click",function(){let m;g(n);let a=u();return v(a.contacterEmail(((m=a.employeSelectionne())==null?null:m.email)||""))}),f(),e(35,"svg",71),x(36,"path",46),t(),o(37," Email "),t(),_(),e(38,"button",72),d("click",function(){let m;g(n);let a=u();return v(a.contacterTelephone(((m=a.employeSelectionne())==null?null:m.telephone)||""))}),f(),e(39,"svg",71),x(40,"path",47),t(),o(41," Appeler "),t()(),_(),e(42,"button",73),d("click",function(){g(n);let m=u();return v(m.fermerDetails())}),o(43," Fermer "),t()()()()}if(s&2){let n,i,m,a,M,A,k,D,p=u();r(5),C(" ",((n=p.employeSelectionne())==null||n.prenom==null?null:n.prenom.charAt(0))||"","",((n=p.employeSelectionne())==null||n.nom==null?null:n.nom.charAt(0))||""," "),r(2),C("",(i=p.employeSelectionne())==null?null:i.prenom," ",(i=p.employeSelectionne())==null?null:i.nom),r(2),c((m=p.employeSelectionne())==null?null:m.poste),r(2),c((a=p.employeSelectionne())==null?null:a.service),r(6),c((M=p.employeSelectionne())==null?null:M.matricule),r(5),c((A=p.employeSelectionne())==null?null:A.email),r(5),c((k=p.employeSelectionne())==null?null:k.telephone),r(5),h("",p.calculerAnciennete(((D=p.employeSelectionne())==null?null:D.dateEmbauche)||"")," an(s)")}}var z=class s{employes=E([]);employesFiltres=E([]);employeSelectionne=E(null);rechercheTexte="";filtreService="";filtreRole="";triPar="nom";mockEmployes=[{id:"1",matricule:"EMP001",nom:"Kouassi",prenom:"Konan",email:"Konan.Kouassi@fer.ci",telephone:"+225 07 123 45 67",dateNaissance:"1985-03-15",dateEmbauche:"2020-01-15",typeContrat:"CDI",poste:"Ing\xE9nieur D\xE9veloppement",service:"IT",manager:"AmichaSall",salaire:85e4,coordonneesBancaires:{banque:"UBA C\xF4te d'Ivoire",iban:"CI08...",bic:"UBAFCIDA"},role:"OPERATIONNEL",statut:"ACTIF"},{id:"2",matricule:"DIR001",nom:"Sall",prenom:"Fatou",email:"fatou.sall@fer.ci",telephone:"+225 07 234 56 78",dateNaissance:"1978-08-22",dateEmbauche:"2015-03-01",typeContrat:"CDI",poste:"Directrice IT",service:"Direction",salaire:12e5,coordonneesBancaires:{banque:"SGBCI",iban:"CI08...",bic:"SGBCCIDA"},role:"DIRECTION",statut:"ACTIF"},{id:"3",matricule:"RH001",nom:"kobenan",prenom:"Aminata",email:"aminata.kobenan@fer.ci",telephone:"+225 07 345 67 89",dateNaissance:"1982-11-10",dateEmbauche:"2018-09-15",typeContrat:"CDI",poste:"Responsable RH",service:"RH",salaire:95e4,coordonneesBancaires:{banque:"BACI",iban:"CI08...",bic:"BACICIDA"},role:"RH",statut:"ACTIF"},{id:"4",matricule:"FIN001",nom:"Ba",prenom:"Kon\xE9",email:"Kon\xE9.ba@fer.ci",telephone:"+225 07 456 78 90",dateNaissance:"1980-05-18",dateEmbauche:"2017-01-10",typeContrat:"CDI",poste:"Chef Comptable",service:"Finance",salaire:9e5,coordonneesBancaires:{banque:"Ecobank C\xF4te d'Ivoire",iban:"CI08...",bic:"ECOCCIDA"},role:"OPERATIONNEL",statut:"ACTIF"},{id:"5",matricule:"COM001",nom:"Fall",prenom:"Aissatou",email:"aissatou.fall@fer.ci",telephone:"+225 07 567 89 01",dateNaissance:"1987-02-25",dateEmbauche:"2021-06-01",typeContrat:"CDI",poste:"Charg\xE9e Marketing",service:"Commercial",salaire:75e4,coordonneesBancaires:{banque:"UBA C\xF4te d'Ivoire",iban:"CI08...",bic:"UBAFCIDA"},role:"OPERATIONNEL",statut:"ACTIF"}];ngOnInit(){this.employes.set(this.mockEmployes),this.appliquerFiltres()}appliquerFiltres(){let l=this.employes();if(this.rechercheTexte){let n=this.rechercheTexte.toLowerCase();l=l.filter(i=>i.nom.toLowerCase().includes(n)||i.prenom.toLowerCase().includes(n)||i.poste.toLowerCase().includes(n)||i.email.toLowerCase().includes(n))}this.filtreService&&(l=l.filter(n=>n.service===this.filtreService)),this.filtreRole&&(l=l.filter(n=>n.role===this.filtreRole)),l.sort((n,i)=>{switch(this.triPar){case"nom":return n.nom.localeCompare(i.nom);case"service":return n.service.localeCompare(i.service);case"poste":return n.poste.localeCompare(i.poste);case"anciennete":return new Date(n.dateEmbauche).getTime()-new Date(i.dateEmbauche).getTime();default:return 0}}),this.employesFiltres.set(l)}voirDetails(l){this.employeSelectionne.set(l)}fermerDetails(){this.employeSelectionne.set(null)}contacterEmail(l){window.open(`mailto:${l}`,"_blank")}contacterTelephone(l){window.open(`tel:${l}`,"_blank")}calculerAnciennete(l){let n=new Date(l);return new Date().getFullYear()-n.getFullYear()}getStatutIndicator(l){switch(l){case"ACTIF":return"w-3 h-3 bg-green-400 rounded-full";case"INACTIF":return"w-3 h-3 bg-red-400 rounded-full";case"SUSPENDU":return"w-3 h-3 bg-yellow-400 rounded-full";default:return"w-3 h-3 bg-gray-400 rounded-full"}}getTotalEmployes(){return this.employes().length}getEmployesActifs(){return this.employes().filter(l=>l.statut==="ACTIF").length}getNombreServices(){return new Set(this.employes().map(n=>n.service)).size}getStatistiquesServices(){let l=this.employes().reduce((n,i)=>(n[i.service]=(n[i.service]||0)+1,n),{});return Object.entries(l).map(([n,i])=>({service:n,count:i})).sort((n,i)=>i.count-n.count)}static \u0275fac=function(n){return new(n||s)};static \u0275cmp=F({type:s,selectors:[["app-trombinoscope"]],decls:76,vars:9,consts:[[1,"space-y-6"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600"],[1,"card"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],["type","text","placeholder","Rechercher une personne...",1,"input-field",3,"ngModelChange","ngModel"],[1,"input-field",3,"ngModelChange","ngModel"],["value",""],["value","Direction"],["value","RH"],["value","IT"],["value","Finance"],["value","Commercial"],["value","Operations"],["value","DIRECTION"],["value","OPERATIONNEL"],["value","nom"],["value","service"],["value","poste"],["value","anciennete"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6"],[1,"card","hover:shadow-lg","transition-shadow","cursor-pointer"],[1,"col-span-full","text-center","py-12"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[1,"text-center"],[1,"text-3xl","font-bold","text-primary-600"],[1,"text-sm","text-gray-500"],[1,"text-3xl","font-bold","text-green-600"],[1,"text-3xl","font-bold","text-blue-600"],[1,"mt-6"],[1,"text-md","font-medium","text-gray-900","mb-3"],[1,"space-y-2"],[1,"flex","items-center","justify-between"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","p-4","z-50"],[1,"card","hover:shadow-lg","transition-shadow","cursor-pointer",3,"click"],[1,"relative"],[1,"w-20","h-20","bg-gradient-to-br","from-primary-400","to-primary-600","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-2xl","font-bold","text-white"],[1,"absolute","top-0","right-0"],[1,"font-semibold","text-gray-900"],[1,"text-sm","text-primary-600","font-medium"],[1,"text-xs","text-gray-500"],[1,"mt-3","pt-3","border-t","space-y-1"],[1,"flex","items-center","justify-center","text-xs","text-gray-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],[1,"mt-2"],[1,"inline-flex","px-2","py-1","text-xs","rounded-full","bg-gray-100","text-gray-700"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"mt-4","text-lg","font-medium","text-gray-900"],[1,"mt-2","text-gray-500"],[1,"text-sm","text-gray-700"],[1,"flex","items-center","space-x-2"],[1,"w-20","bg-gray-200","rounded-full","h-2"],[1,"bg-primary-600","h-2","rounded-full"],[1,"text-sm","font-medium","text-gray-900","w-8"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","p-4","z-50",3,"click"],[1,"bg-white","rounded-xl","max-w-md","w-full","p-6",3,"click"],[1,"w-24","h-24","bg-gradient-to-br","from-primary-400","to-primary-600","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-3xl","font-bold","text-white"],[1,"text-xl","font-bold","text-gray-900"],[1,"text-primary-600","font-medium"],[1,"text-gray-500"],[1,"mt-4","space-y-2","text-sm"],[1,"flex","justify-between"],[1,"font-medium"],[1,"mt-6","flex","space-x-3"],[1,"btn-primary","flex-1",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],[1,"btn-secondary","flex-1",3,"click"],[1,"mt-4","text-gray-500","hover:text-gray-700",3,"click"]],template:function(n,i){n&1&&(e(0,"div",0)(1,"div")(2,"h1",1),o(3,"Trombinoscope"),t(),e(4,"p",2),o(5,"Annuaire du personnel et organigramme de l'entreprise"),t()(),e(6,"div",3)(7,"div",4)(8,"div")(9,"input",5),b("ngModelChange",function(a){return y(i.rechercheTexte,a)||(i.rechercheTexte=a),a}),d("ngModelChange",function(){return i.appliquerFiltres()}),t()(),e(10,"div")(11,"select",6),b("ngModelChange",function(a){return y(i.filtreService,a)||(i.filtreService=a),a}),d("ngModelChange",function(){return i.appliquerFiltres()}),e(12,"option",7),o(13,"Tous les services"),t(),e(14,"option",8),o(15,"Direction"),t(),e(16,"option",9),o(17,"Ressources Humaines"),t(),e(18,"option",10),o(19,"Informatique"),t(),e(20,"option",11),o(21,"Finance"),t(),e(22,"option",12),o(23,"Commercial"),t(),e(24,"option",13),o(25,"Op\xE9rations"),t()()(),e(26,"div")(27,"select",6),b("ngModelChange",function(a){return y(i.filtreRole,a)||(i.filtreRole=a),a}),d("ngModelChange",function(){return i.appliquerFiltres()}),e(28,"option",7),o(29,"Tous les r\xF4les"),t(),e(30,"option",14),o(31,"Direction"),t(),e(32,"option",9),o(33,"\xC9quipe RH"),t(),e(34,"option",15),o(35,"Personnel Op\xE9rationnel"),t()()(),e(36,"div")(37,"select",6),b("ngModelChange",function(a){return y(i.triPar,a)||(i.triPar=a),a}),d("ngModelChange",function(){return i.appliquerFiltres()}),e(38,"option",16),o(39,"Nom A-Z"),t(),e(40,"option",17),o(41,"Service"),t(),e(42,"option",18),o(43,"Poste"),t(),e(44,"option",19),o(45,"Anciennet\xE9"),t()()()()(),e(46,"div",20),T(47,Y,26,11,"div",21,G,!1,Z,7,0,"div",22),t(),e(50,"div",3)(51,"h2",23),o(52,"Statistiques du personnel"),t(),e(53,"div",24)(54,"div",25)(55,"div",26),o(56),t(),e(57,"div",27),o(58,"Total employ\xE9s"),t()(),e(59,"div",25)(60,"div",28),o(61),t(),e(62,"div",27),o(63,"Employ\xE9s actifs"),t()(),e(64,"div",25)(65,"div",29),o(66),t(),e(67,"div",27),o(68,"Services"),t()()(),e(69,"div",30)(70,"h3",31),o(71,"R\xE9partition par service"),t(),e(72,"div",32),T(73,J,8,4,"div",33,K),t()()()(),N(75,Q,44,10,"div",34)),n&2&&(r(9),S("ngModel",i.rechercheTexte),r(2),S("ngModel",i.filtreService),r(16),S("ngModel",i.filtreRole),r(10),S("ngModel",i.triPar),r(10),w(i.employesFiltres()),r(9),c(i.getTotalEmployes()),r(5),c(i.getEmployesActifs()),r(5),c(i.getNombreServices()),r(7),w(i.getStatistiquesServices()),r(2),R(i.employeSelectionne()?75:-1))},dependencies:[O,j,U,W,P,H,L,q],encapsulation:2})};export{z as TrombinoscopeComponent};
