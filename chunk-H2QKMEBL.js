import{N as d,a as g,b as l,m as n}from"./chunk-5P4XIA3I.js";var h=class s{mockPointages=[{id:"1",employeId:"1",date:"2025-07-30",heureArrivee:"08:15",heureDepart:"17:30",heuresTravaillees:8.25,statut:"PRESENT"},{id:"2",employeId:"1",date:"2025-07-29",heureArrivee:"08:00",heureDepart:"17:00",heuresTravaillees:8,statut:"PRESENT"},{id:"3",employeId:"1",date:"2025-07-28",heureArrivee:"08:45",heureDepart:"17:15",heuresTravaillees:7.5,statut:"RETARD"}];getPointagesDuJour(o){let r=new Date().toISOString().split("T")[0],t=this.mockPointages.find(i=>i.employeId===o&&i.date===r);return n(t||null)}getPointagesPeriode(o,r,t){let i=this.mockPointages.filter(e=>e.employeId===o&&e.date>=r&&e.date<=t);return n(i)}enregistrerArrivee(o){let r=new Date().toISOString().split("T")[0],t=new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"});if(this.mockPointages.find(a=>a.employeId===o&&a.date===r))throw new Error("Pointage d'arriv\xE9e d\xE9j\xE0 enregistr\xE9 pour aujourd'hui");let e={id:Math.random().toString(36).substr(2,9),employeId:o,date:r,heureArrivee:t,statut:t>"08:30"?"RETARD":"PRESENT"};return this.mockPointages.push(e),n(e)}enregistrerDepart(o){let r=new Date().toISOString().split("T")[0],t=new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),i=this.mockPointages.findIndex(u=>u.employeId===o&&u.date===r);if(i===-1)throw new Error("Aucun pointage d'arriv\xE9e trouv\xE9 pour aujourd'hui");let e=this.mockPointages[i];if(e.heureDepart)throw new Error("Pointage de d\xE9part d\xE9j\xE0 enregistr\xE9 pour aujourd'hui");let[a,c]=e.heureArrivee.split(":").map(Number),[p,m]=t.split(":").map(Number),P=p+m/60-(a+c/60);return this.mockPointages[i]=l(g({},e),{heureDepart:t,heuresTravaillees:Math.round(P*100)/100}),n(this.mockPointages[i])}getStatistiquesPointage(o,r){let t=this.mockPointages.filter(e=>e.employeId===o&&e.date.startsWith(r)),i={totalJours:t.length,joursPresents:t.filter(e=>e.statut==="PRESENT").length,joursRetard:t.filter(e=>e.statut==="RETARD").length,joursAbsents:t.filter(e=>e.statut==="ABSENT").length,totalHeures:t.reduce((e,a)=>e+(a.heuresTravaillees||0),0)};return n(i)}static \u0275fac=function(r){return new(r||s)};static \u0275prov=d({token:s,factory:s.\u0275fac,providedIn:"root"})};export{h as a};
